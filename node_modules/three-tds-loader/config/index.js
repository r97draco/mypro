'use strict'

const { resolve } = require('./resolve')
const { rules } = require('./rules')
const { plugins } = require('./plugins')
const { entry, output } = require('./io')
const { devtool } = require('./dev')
const { target } = require('./target')
const env = process.env.NODE_ENV === 'PROD' ? 'production' : 'development'

module.exports = {
  mode: env,
  watch: process.env.NODE_ENV !== 'PROD',
  entry,
  output,
  resolve,
  plugins,
  devtool,
  target,
  module: { rules }
}
